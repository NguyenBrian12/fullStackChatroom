(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(47),r=a.n(o);a(58),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(12),c=a(9),i=a(14),m=a(13),d=a(15),u=a(125),h=a(126),p=(a(60),a(5)),g=a(6),E=a(4);p.b.add(E.a),p.b.add(E.c);var f=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={appUserId:null},a.moveToChatShield=function(){a.props.history.push("/chatroom/user/2")},a.moveToChatSword=function(){a.props.history.push("/chatroom/user/1")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"wrapper fadeInDown"},s.a.createElement("div",{id:"formContent"},s.a.createElement("form",null,s.a.createElement("div",null,s.a.createElement("img",{src:"https://i.imgur.com/36BdWxP.jpg",alt:"ign logo",height:"70",width:"150"})),s.a.createElement("div",{className:" title fadeIn first"},"Welcome to the IGN Chatroom ",s.a.createElement("br",null),s.a.createElement("div",{className:"spacing"},"Are you Sword or Shield?")),s.a.createElement("div",null,s.a.createElement("button",{type:"button",className:"swordButton fadeIn fourth",onClick:this.moveToChatSword},"Sword ",s.a.createElement(g.a,{icon:"khanda"})),s.a.createElement("button",{type:"button",className:"shieldButton fadeIn fourth",onClick:this.moveToChatShield},"Shield ",s.a.createElement(g.a,{icon:"shield-alt"}))))))}}]),t}(n.Component),v=a(52),b=a(49),w=a.n(b),k=(a(97),a(27)),y=a.n(k);var S=a(28),N=a.n(S);p.b.add(E.b),p.b.add(E.a),p.b.add(E.c);var C=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={appUserId:null,messages:[],messageForm:"",message:"",value:[],alreadyScrolled:!1},a.onChange=function(e){e.preventDefault(),a.setState({message:e.target.value})},a.sendMessage=function(e){var t;e.preventDefault(),a.socket.emit("send_message",{message:a.state.message,appUserId:a.state.appUserId}),t={appUserId:a.state.appUserId,message:a.state.message},y.a.post("/api/insertMessage",t),a.setState({message:""})},a.getMessages=function(){y.a.get("/api/getAllMessages").then(function(e){if(e.data){var t=e.data;a.setState({messages:t}),!1===a.state.alreadyScrolled&&(a.scrollToBottom(),a.setState({alreadyScrolled:!0}))}})},a.scrollToBottom=function(){null!==a.messagesEnd&&a.messagesEnd.scrollIntoView({behavior:"smooth"})},a.backToLogin=function(){a.props.history.push("/")},a.socket=w()(window.location.host,{transports:["websocket"]}),a.socket.on("RECEIVE_MESSAGE",function(e){n(e)});var n=function(e){a.setState({messages:[].concat(Object(v.a)(a.state.messages),[e])}),a.scrollToBottom()};return a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getMessages();var e=parseInt(this.props.match.params.appUserId);this.setState({appUserId:e})}}]),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.messages;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"menu"},s.a.createElement("a",{href:"https://www.linkedin.com/in/brian-nguyen-0802b7104",className:"back"},s.a.createElement("i",{className:"fa fa-angle-left"})," ",s.a.createElement("img",{src:"https://i.imgur.com/G4EjwqQ.jpg",alt:"img",draggable:"false"})),s.a.createElement("div",{className:"name"},"IGN Chatroom"),s.a.createElement("div",null," ",s.a.createElement("button",{className:"backToLogin",type:"button",onClick:this.backToLogin},"Back")),s.a.createElement("div",{className:"members"},s.a.createElement("b",null,"Sword ",s.a.createElement(g.a,{icon:"khanda"})),", Shield ",s.a.createElement(g.a,{icon:"shield-alt"}))),s.a.createElement("ol",{className:"chat"},t.length>0?this.state.messages.map(function(e){return s.a.createElement("div",null,1!==e.appUserId?s.a.createElement("li",{className:"other"},s.a.createElement("div",{className:"msg leftChat"},s.a.createElement("div",{className:"shield"},"Shield ",s.a.createElement(g.a,{icon:"shield-alt"})),s.a.createElement("p",null,e.message),s.a.createElement("time",null,N()(e.dateCreated).format("ddd LT")))):s.a.createElement("li",{className:"self"},s.a.createElement("div",{className:"msg rightChat"},s.a.createElement("div",{className:"sword"},"Sword ",s.a.createElement(g.a,{icon:"khanda"})),s.a.createElement("p",null,e.message),s.a.createElement("time",null,N()(e.dateCreated).format("ddd LT")))))}):"",s.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}})),s.a.createElement("div",{className:"typezone"},s.a.createElement("form",null,s.a.createElement("textarea",{type:"text",placeholder:"Say something",value:this.state.message,onChange:this.onChange}),s.a.createElement("button",{type:"button",className:"send",onClick:this.sendMessage,disabled:!this.state.message},s.a.createElement(g.a,{icon:"rocket"})," Send"))))}}]),t}(n.Component),j=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(u.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{exact:!0,path:"/",component:f}),s.a.createElement(h.a,{exact:!0,path:"/chatroom/user/:appUserId(\\d+)",component:C})))}}]),t}(s.a.Component);r.a.render(s.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},53:function(e,t,a){e.exports=a(122)},58:function(e,t,a){},60:function(e,t,a){},94:function(e,t){},97:function(e,t,a){}},[[53,2,1]]]);
//# sourceMappingURL=main.04b78ebb.chunk.js.map